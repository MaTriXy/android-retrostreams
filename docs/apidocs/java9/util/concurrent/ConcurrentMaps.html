<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="de">
<head>
<!-- Generated by javadoc (1.8.0_51) on Sun Dec 10 16:08:30 CET 2017 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>ConcurrentMaps (net.sourceforge.streamsupport:android-retrostreams 1.6.0 API)</title>
<meta name="date" content="2017-12-10">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ConcurrentMaps (net.sourceforge.streamsupport:android-retrostreams 1.6.0 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9,"i5":9,"i6":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ConcurrentMaps.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../java9/util/concurrent/CompletionException.html" title="class in java9.util.concurrent"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../java9/util/concurrent/CountedCompleter.html" title="class in java9.util.concurrent"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?java9/util/concurrent/ConcurrentMaps.html" target="_top">Frames</a></li>
<li><a href="ConcurrentMaps.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">java9.util.concurrent</div>
<h2 title="Class ConcurrentMaps" class="title">Class ConcurrentMaps</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>java9.util.concurrent.ConcurrentMaps</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public final class <span class="typeNameLabel">ConcurrentMaps</span>
extends <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">A place for static default implementations of the new Java 8
 default interface methods and static interface methods in the
 <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentMap.html?is-external=true" title="class or interface in java.util.concurrent"><code>ConcurrentMap</code></a> interface.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static &lt;K,V&gt;&nbsp;V</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../java9/util/concurrent/ConcurrentMaps.html#compute-java.util.concurrent.ConcurrentMap-K-java9.util.function.BiFunction-">compute</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentMap.html?is-external=true" title="class or interface in java.util.concurrent">ConcurrentMap</a>&lt;K,V&gt;&nbsp;map,
       K&nbsp;key,
       <a href="../../../java9/util/function/BiFunction.html" title="interface in java9.util.function">BiFunction</a>&lt;? super K,? super V,? extends V&gt;&nbsp;remappingFunction)</code>
<div class="block">Attempts to compute a mapping for the specified key and its current
 mapped value (or <code>null</code> if there is no current mapping).</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static &lt;K,V&gt;&nbsp;V</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../java9/util/concurrent/ConcurrentMaps.html#computeIfAbsent-java.util.concurrent.ConcurrentMap-K-java9.util.function.Function-">computeIfAbsent</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentMap.html?is-external=true" title="class or interface in java.util.concurrent">ConcurrentMap</a>&lt;K,V&gt;&nbsp;map,
               K&nbsp;key,
               <a href="../../../java9/util/function/Function.html" title="interface in java9.util.function">Function</a>&lt;? super K,? extends V&gt;&nbsp;mappingFunction)</code>
<div class="block">If the specified key is not already associated with a value (or is mapped
 to <code>null</code>), attempts to compute its value using the given mapping
 function and enters it into the passed <code>map</code> unless <code>null</code>.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static &lt;K,V&gt;&nbsp;V</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../java9/util/concurrent/ConcurrentMaps.html#computeIfPresent-java.util.concurrent.ConcurrentMap-K-java9.util.function.BiFunction-">computeIfPresent</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentMap.html?is-external=true" title="class or interface in java.util.concurrent">ConcurrentMap</a>&lt;K,V&gt;&nbsp;map,
                K&nbsp;key,
                <a href="../../../java9/util/function/BiFunction.html" title="interface in java9.util.function">BiFunction</a>&lt;? super K,? super V,? extends V&gt;&nbsp;remappingFunction)</code>
<div class="block">If the value for the specified key is present and non-null, attempts to
 compute a new mapping given the key and its current mapped value.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static &lt;K,V&gt;&nbsp;void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../java9/util/concurrent/ConcurrentMaps.html#forEach-java.util.concurrent.ConcurrentMap-java9.util.function.BiConsumer-">forEach</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentMap.html?is-external=true" title="class or interface in java.util.concurrent">ConcurrentMap</a>&lt;K,V&gt;&nbsp;map,
       <a href="../../../java9/util/function/BiConsumer.html" title="interface in java9.util.function">BiConsumer</a>&lt;? super K,? super V&gt;&nbsp;action)</code>
<div class="block">Performs the given action for each entry in the map until all entries
 have been processed or the action throws an exception.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static &lt;K,V&gt;&nbsp;V</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../java9/util/concurrent/ConcurrentMaps.html#getOrDefault-java.util.concurrent.ConcurrentMap-java.lang.Object-V-">getOrDefault</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentMap.html?is-external=true" title="class or interface in java.util.concurrent">ConcurrentMap</a>&lt;K,V&gt;&nbsp;map,
            <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;key,
            V&nbsp;defaultValue)</code>
<div class="block">Returns the value to which the specified key is mapped, or
 <code>defaultValue</code> if the map contains no mapping for the key.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static &lt;K,V&gt;&nbsp;V</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../java9/util/concurrent/ConcurrentMaps.html#merge-java.util.concurrent.ConcurrentMap-K-V-java9.util.function.BiFunction-">merge</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentMap.html?is-external=true" title="class or interface in java.util.concurrent">ConcurrentMap</a>&lt;K,V&gt;&nbsp;map,
     K&nbsp;key,
     V&nbsp;value,
     <a href="../../../java9/util/function/BiFunction.html" title="interface in java9.util.function">BiFunction</a>&lt;? super V,? super V,? extends V&gt;&nbsp;remappingFunction)</code>
<div class="block">If the specified key is not already associated with a value or is
 associated with null, associates it with the given non-null value.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>static &lt;K,V&gt;&nbsp;void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../java9/util/concurrent/ConcurrentMaps.html#replaceAll-java.util.concurrent.ConcurrentMap-java9.util.function.BiFunction-">replaceAll</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentMap.html?is-external=true" title="class or interface in java.util.concurrent">ConcurrentMap</a>&lt;K,V&gt;&nbsp;map,
          <a href="../../../java9/util/function/BiFunction.html" title="interface in java9.util.function">BiFunction</a>&lt;? super K,? super V,? extends V&gt;&nbsp;function)</code>
<div class="block">Replaces each entry's value with the result of invoking the given
 function on that entry until all entries have been processed or the
 function throws an exception.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="merge-java.util.concurrent.ConcurrentMap-java.lang.Object-java.lang.Object-java9.util.function.BiFunction-">
<!--   -->
</a><a name="merge-java.util.concurrent.ConcurrentMap-K-V-java9.util.function.BiFunction-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>merge</h4>
<pre>public static&nbsp;&lt;K,V&gt;&nbsp;V&nbsp;merge(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentMap.html?is-external=true" title="class or interface in java.util.concurrent">ConcurrentMap</a>&lt;K,V&gt;&nbsp;map,
                            K&nbsp;key,
                            V&nbsp;value,
                            <a href="../../../java9/util/function/BiFunction.html" title="interface in java9.util.function">BiFunction</a>&lt;? super V,? super V,? extends V&gt;&nbsp;remappingFunction)</pre>
<div class="block">If the specified key is not already associated with a value or is
 associated with null, associates it with the given non-null value.
 Otherwise, replaces the associated value with the results of the given
 remapping function, or removes if the result is <code>null</code>. This
 method may be of use when combining multiple mapped values for a key.
 For example, to either create or append a <code>String msg</code> to a
 value mapping:

 <pre> <code>
 map.merge(key, msg, String::concat)
 </code></pre>

 <p>If the remapping function returns <code>null</code> the mapping is removed.
 If the remapping function itself throws an (unchecked) exception, the
 exception is rethrown, and the current mapping is left unchanged.

 <p>The remapping function itself should not modify the passed map during computation.

 <p><b>Implementation Requirements:</b><br>
 The default implementation is equivalent to performing the following
 steps for the <code>map</code>:

 <pre> <code>
 for (;;) {
   V oldValue = map.get(key);
   if (oldValue != null) {
     V newValue = remappingFunction.apply(oldValue, value);
     if (newValue != null) {
       if (map.replace(key, oldValue, newValue))
         return newValue;
     } else if (map.remove(key, oldValue)) {
       return null;
     }
   } else if (map.putIfAbsent(key, value) == null) {
     return value;
   }
 }</code></pre>
 When multiple threads attempt updates, map operations and the
 remapping function may be called multiple times.

 <p>This implementation assumes that the ConcurrentMap cannot contain null
 values and <code>get()</code> returning null unambiguously means the key is
 absent. Implementations which support null values <strong>must</strong>
 override the default implementation.

 <p>The default implementation makes no guarantees about detecting if the
 remapping function modifies the passed map during computation and, if
 appropriate, reporting an error. Concurrent implementations should override
 this method and, on a best-effort basis, throw an <code>IllegalStateException</code>
 if it is detected that the remapping function modifies the map during computation
 and as a result computation would never complete.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>K</code> - the type of keys maintained by the passed map</dd>
<dd><code>V</code> - the type of mapped values in the passed map</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>map</code> - the <code>ConcurrentMap</code> on which to execute the <code>merge</code>
 operation.</dd>
<dd><code>key</code> - key with which the resulting value is to be associated</dd>
<dd><code>value</code> - the non-null value to be merged with the existing value
        associated with the key or, if no existing value or a null value
        is associated with the key, to be associated with the key</dd>
<dd><code>remappingFunction</code> - the function to recompute a value if present</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the new value associated with the specified key, or null if no
         value is associated with the key</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang">UnsupportedOperationException</a></code> - if the <code>put</code> operation
         is not supported by the map (optional)</dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/ClassCastException.html?is-external=true" title="class or interface in java.lang">ClassCastException</a></code> - if the class of the specified key or value
         prevents it from being stored in the map (optional)</dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if the specified key is null and the map
         does not support null keys or the value or remappingFunction is
         null</dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if some property of the specified key
         or value prevents it from being stored in the map (optional)</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.8</dd>
</dl>
</li>
</ul>
<a name="computeIfAbsent-java.util.concurrent.ConcurrentMap-java.lang.Object-java9.util.function.Function-">
<!--   -->
</a><a name="computeIfAbsent-java.util.concurrent.ConcurrentMap-K-java9.util.function.Function-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>computeIfAbsent</h4>
<pre>public static&nbsp;&lt;K,V&gt;&nbsp;V&nbsp;computeIfAbsent(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentMap.html?is-external=true" title="class or interface in java.util.concurrent">ConcurrentMap</a>&lt;K,V&gt;&nbsp;map,
                                      K&nbsp;key,
                                      <a href="../../../java9/util/function/Function.html" title="interface in java9.util.function">Function</a>&lt;? super K,? extends V&gt;&nbsp;mappingFunction)</pre>
<div class="block">If the specified key is not already associated with a value (or is mapped
 to <code>null</code>), attempts to compute its value using the given mapping
 function and enters it into the passed <code>map</code> unless <code>null</code>.

 <p>If the mapping function returns <code>null</code> no mapping is recorded.
 If the mapping function itself throws an (unchecked) exception, the
 exception is rethrown, and no mapping is recorded.  The most
 common usage is to construct a new object serving as an initial
 mapped value or memoized result, as in:

 <pre> <code>
 map.computeIfAbsent(key, k -&gt; new Value(f(k)));
 </code></pre>

 <p>Or to implement a multi-value map, <code>Map&lt;K,Collection&lt;V&gt;&gt;</code>,
 supporting multiple values per key:

 <pre> <code>
 map.computeIfAbsent(key, k -&gt; new HashSet&lt;V&gt;()).add(v);
 </code></pre>

 <p>The mapping function itself should not modify the passed map during computation.

 <p><b>Implementation Requirements:</b><br>
 The default implementation is equivalent to the following steps for the
 <code>map</code>:

 <pre> <code>
 V oldValue, newValue;
 return ((oldValue = map.get(key)) == null
         &amp;&amp; (newValue = mappingFunction.apply(key)) != null
         &amp;&amp; (oldValue = map.putIfAbsent(key, newValue)) == null)
   ? newValue
   : oldValue;</code></pre>

 <p>This implementation assumes that the ConcurrentMap cannot contain null
 values and <code>get()</code> returning null unambiguously means the key is
 absent. Implementations which support null values <strong>must</strong>
 override the default implementation.

 <p>The default implementation makes no guarantees about detecting if the
 mapping function modifies the passed map during computation and, if
 appropriate, reporting an error. Concurrent implementations should override
 this method and, on a best-effort basis, throw an <code>IllegalStateException</code>
 if it is detected that the mapping function modifies the map during computation
 and as a result computation would never complete.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>K</code> - the type of keys maintained by the passed map</dd>
<dd><code>V</code> - the type of mapped values in the passed map</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>map</code> - the <code>ConcurrentMap</code> on which to execute the <code>computeIfAbsent</code>
 operation.</dd>
<dd><code>key</code> - key with which the specified value is to be associated</dd>
<dd><code>mappingFunction</code> - the mapping function to compute a value</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the current (existing or computed) value associated with
         the specified key, or null if the computed value is null</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if the specified key is null and
         the map does not support null keys, or the mappingFunction
         is null</dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang">UnsupportedOperationException</a></code> - if the <code>put</code> operation
         is not supported by the map (optional)</dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/ClassCastException.html?is-external=true" title="class or interface in java.lang">ClassCastException</a></code> - if the class of the specified key or value
         prevents it from being stored in the map (optional)</dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if some property of the specified key
         or value prevents it from being stored in the map (optional)</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.8</dd>
</dl>
</li>
</ul>
<a name="computeIfPresent-java.util.concurrent.ConcurrentMap-java.lang.Object-java9.util.function.BiFunction-">
<!--   -->
</a><a name="computeIfPresent-java.util.concurrent.ConcurrentMap-K-java9.util.function.BiFunction-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>computeIfPresent</h4>
<pre>public static&nbsp;&lt;K,V&gt;&nbsp;V&nbsp;computeIfPresent(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentMap.html?is-external=true" title="class or interface in java.util.concurrent">ConcurrentMap</a>&lt;K,V&gt;&nbsp;map,
                                       K&nbsp;key,
                                       <a href="../../../java9/util/function/BiFunction.html" title="interface in java9.util.function">BiFunction</a>&lt;? super K,? super V,? extends V&gt;&nbsp;remappingFunction)</pre>
<div class="block">If the value for the specified key is present and non-null, attempts to
 compute a new mapping given the key and its current mapped value.

 <p>If the remapping function returns <code>null</code>, the mapping is removed.
 If the remapping function itself throws an (unchecked) exception, the
 exception is rethrown, and the current mapping is left unchanged.

 <p>The remapping function itself should not modify the passed map during
 computation.

 <p><b>Implementation Requirements:</b><br>
 The default implementation is equivalent to performing the following
 steps for the <code>map</code>:

 <pre> <code>
 for (V oldValue; (oldValue = map.get(key)) != null; ) {
   V newValue = remappingFunction.apply(key, oldValue);
   if ((newValue == null)
       ? map.remove(key, oldValue)
       : map.replace(key, oldValue, newValue))
     return newValue;
 }
 return null;</code></pre>
 When multiple threads attempt updates, map operations and the
 remapping function may be called multiple times.

 <p>This implementation assumes that the ConcurrentMap cannot contain null
 values and <code>get()</code> returning null unambiguously means the key is
 absent. Implementations which support null values <strong>must</strong>
 override this default implementation.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>K</code> - the type of keys maintained by the passed map</dd>
<dd><code>V</code> - the type of mapped values in the passed map</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>map</code> - the <code>ConcurrentMap</code> on which to execute the
 <code>computeIfPresent</code> operation.</dd>
<dd><code>key</code> - key with which the specified value is to be associated</dd>
<dd><code>remappingFunction</code> - the remapping function to compute a value</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the new value associated with the specified key, or null if none</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if the specified key is null and
         the map does not support null keys, or the
         remappingFunction is null</dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang">UnsupportedOperationException</a></code> - if the <code>put</code> operation
         is not supported by the map (optional)</dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/ClassCastException.html?is-external=true" title="class or interface in java.lang">ClassCastException</a></code> - if the class of the specified key or value
         prevents it from being stored in the map (optional)</dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if some property of the specified key
         or value prevents it from being stored in this map (optional)</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.8</dd>
</dl>
</li>
</ul>
<a name="compute-java.util.concurrent.ConcurrentMap-java.lang.Object-java9.util.function.BiFunction-">
<!--   -->
</a><a name="compute-java.util.concurrent.ConcurrentMap-K-java9.util.function.BiFunction-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>compute</h4>
<pre>public static&nbsp;&lt;K,V&gt;&nbsp;V&nbsp;compute(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentMap.html?is-external=true" title="class or interface in java.util.concurrent">ConcurrentMap</a>&lt;K,V&gt;&nbsp;map,
                              K&nbsp;key,
                              <a href="../../../java9/util/function/BiFunction.html" title="interface in java9.util.function">BiFunction</a>&lt;? super K,? super V,? extends V&gt;&nbsp;remappingFunction)</pre>
<div class="block">Attempts to compute a mapping for the specified key and its current
 mapped value (or <code>null</code> if there is no current mapping). For
 example, to either create or append a <code>String</code> msg to a value
 mapping:

 <pre> <code>
 map.compute(key, (k, v) -&gt; (v == null) ? msg : v.concat(msg))</code></pre>
 (Method <a href="../../../java9/util/concurrent/ConcurrentMaps.html#merge-java.util.concurrent.ConcurrentMap-K-V-java9.util.function.BiFunction-"><code>merge()</code></a> is often simpler to use for such purposes.)

 <p>If the remapping function returns <code>null</code>, the mapping is removed
 (or remains absent if initially absent).  If the remapping function itself
 throws an (unchecked) exception, the exception is rethrown, and the current
 mapping is left unchanged.

 <p>The remapping function itself should not modify the passed map during
 computation.

 <p><b>Implementation Requirements:</b><br>
 The default implementation is equivalent to performing the following
 steps for the <code>map</code>:

 <pre> <code>
 for (;;) {
   V oldValue = map.get(key);
   V newValue = remappingFunction.apply(key, oldValue);
   if (newValue != null) {
     if ((oldValue != null)
       ? map.replace(key, oldValue, newValue)
       : map.putIfAbsent(key, newValue) == null)
       return newValue;
   } else if (oldValue == null || map.remove(key, oldValue)) {
     return null;
   }
 }</code></pre>
 When multiple threads attempt updates, map operations and the
 remapping function may be called multiple times.

 <p>This implementation assumes that the ConcurrentMap cannot contain null
 values and <code>get()</code> returning null unambiguously means the key is
 absent. Implementations which support null values <strong>must</strong>
 override this default implementation.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>K</code> - the type of keys maintained by the passed map</dd>
<dd><code>V</code> - the type of mapped values in the passed map</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>map</code> - the <code>ConcurrentMap</code> on which to execute the <code>compute</code>
 operation.</dd>
<dd><code>key</code> - key with which the specified value is to be associated</dd>
<dd><code>remappingFunction</code> - the remapping function to compute a value</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the new value associated with the specified key, or null if none</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if the specified key is null and
         the map does not support null keys, or the
         remappingFunction is null</dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang">UnsupportedOperationException</a></code> - if the <code>put</code> operation
         is not supported by the map (optional)</dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/ClassCastException.html?is-external=true" title="class or interface in java.lang">ClassCastException</a></code> - if the class of the specified key or value
         prevents it from being stored in the map (optional)</dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if some property of the specified key
         or value prevents it from being stored in this map (optional)</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.8</dd>
</dl>
</li>
</ul>
<a name="replaceAll-java.util.concurrent.ConcurrentMap-java9.util.function.BiFunction-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>replaceAll</h4>
<pre>public static&nbsp;&lt;K,V&gt;&nbsp;void&nbsp;replaceAll(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentMap.html?is-external=true" title="class or interface in java.util.concurrent">ConcurrentMap</a>&lt;K,V&gt;&nbsp;map,
                                    <a href="../../../java9/util/function/BiFunction.html" title="interface in java9.util.function">BiFunction</a>&lt;? super K,? super V,? extends V&gt;&nbsp;function)</pre>
<div class="block">Replaces each entry's value with the result of invoking the given
 function on that entry until all entries have been processed or the
 function throws an exception.  Exceptions thrown by the function are
 relayed to the caller.

 <p><b>Implementation Requirements:</b><br>
 <p>The default implementation is equivalent to, for the <code>map</code>:
 <pre> <code>
 for ((Map.Entry&lt;K, V&gt; entry : map.entrySet())
     do {
        K k = entry.getKey();
        V v = entry.getValue();
     } while(!replace(k, v, function.apply(k, v)));
 </code></pre>

 The default implementation may retry these steps when multiple
 threads attempt updates including potentially calling the function
 repeatedly for a given key.

 <p>This implementation assumes that the ConcurrentMap cannot contain null
 values and <code>get()</code> returning null unambiguously means the key is
 absent. Implementations which support null values <strong>must</strong>
 override the default implementation.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>K</code> - the type of keys maintained by the passed map</dd>
<dd><code>V</code> - the type of mapped values in the passed map</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>map</code> - the <code>ConcurrentMap</code> on which to execute the <code>replaceAll</code>
 operation.</dd>
<dd><code>function</code> - the function to apply to each entry</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang">UnsupportedOperationException</a></code> - if the <code>set</code> operation
 is not supported by the map's entry set iterator.</dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/ClassCastException.html?is-external=true" title="class or interface in java.lang">ClassCastException</a></code> - if the class of a replacement value
 prevents it from being stored in the map</dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if the specified function is null, or the
 specified replacement value is null, and the map does not permit null
 values</dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/ClassCastException.html?is-external=true" title="class or interface in java.lang">ClassCastException</a></code> - if a replacement value is of an inappropriate
         type for the map (optional)</dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if function or a replacement value is null,
         and the map does not permit null keys or values (optional)</dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if some property of a replacement value
         prevents it from being stored in the map (optional)</dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/util/ConcurrentModificationException.html?is-external=true" title="class or interface in java.util">ConcurrentModificationException</a></code> - if an entry is found to be
         removed during iteration</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.8</dd>
</dl>
</li>
</ul>
<a name="getOrDefault-java.util.concurrent.ConcurrentMap-java.lang.Object-java.lang.Object-">
<!--   -->
</a><a name="getOrDefault-java.util.concurrent.ConcurrentMap-java.lang.Object-V-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOrDefault</h4>
<pre>public static&nbsp;&lt;K,V&gt;&nbsp;V&nbsp;getOrDefault(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentMap.html?is-external=true" title="class or interface in java.util.concurrent">ConcurrentMap</a>&lt;K,V&gt;&nbsp;map,
                                   <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;key,
                                   V&nbsp;defaultValue)</pre>
<div class="block">Returns the value to which the specified key is mapped, or
 <code>defaultValue</code> if the map contains no mapping for the key.

 <p><b>Implementation Note:</b><br> This implementation assumes that the
 ConcurrentMap cannot contain null values and <code>get()</code> returning
 null unambiguously means the key is absent. Implementations which
 support null values <strong>must</strong> override this default implementation.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>K</code> - the type of keys maintained by the passed map</dd>
<dd><code>V</code> - the type of mapped values in the passed map</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>map</code> - the <code>ConcurrentMap</code> on which to execute the <code>getOrDefault</code>
 operation.</dd>
<dd><code>key</code> - the key whose associated value is to be returned</dd>
<dd><code>defaultValue</code> - the default mapping of the key</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the value to which the specified key is mapped, or
 <code>defaultValue</code> if the map contains no mapping for the key</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/ClassCastException.html?is-external=true" title="class or interface in java.lang">ClassCastException</a></code> - if the key is of an inappropriate type for
 the map (optional)</dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if the specified key is null and the map
 does not permit null keys (optional)</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.8</dd>
</dl>
</li>
</ul>
<a name="forEach-java.util.concurrent.ConcurrentMap-java9.util.function.BiConsumer-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>forEach</h4>
<pre>public static&nbsp;&lt;K,V&gt;&nbsp;void&nbsp;forEach(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentMap.html?is-external=true" title="class or interface in java.util.concurrent">ConcurrentMap</a>&lt;K,V&gt;&nbsp;map,
                                 <a href="../../../java9/util/function/BiConsumer.html" title="interface in java9.util.function">BiConsumer</a>&lt;? super K,? super V&gt;&nbsp;action)</pre>
<div class="block">Performs the given action for each entry in the map until all entries
 have been processed or the action throws an exception.   Unless
 otherwise specified by the implementing class, actions are performed in
 the order of entry set iteration (if an iteration order is specified.)
 Exceptions thrown by the action are relayed to the caller.

 <p><b>Implementation Requirements:</b><br> The default implementation
 is equivalent to, for the
 <code>map</code>:
 <pre> <code>
 for ((Map.Entry&lt;K, V&gt; entry : map.entrySet())
     action.accept(entry.getKey(), entry.getValue());
 </code></pre>

 <p><b>Implementation Note:</b><br> The default implementation assumes that
 <code>IllegalStateException</code> thrown by <code>getKey()</code> or
 <code>getValue()</code> indicates that the entry has been removed and cannot
 be processed. Operation continues for subsequent entries.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>K</code> - the type of keys maintained by the passed map</dd>
<dd><code>V</code> - the type of mapped values in the passed map</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>map</code> - the <code>ConcurrentMap</code> on which to execute the <code>forEach</code>
 operation.</dd>
<dd><code>action</code> - The action to be performed for each entry</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if the specified map or action is null</dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/util/ConcurrentModificationException.html?is-external=true" title="class or interface in java.util">ConcurrentModificationException</a></code> - if an entry is found to be
 removed during iteration</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.8</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ConcurrentMaps.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../java9/util/concurrent/CompletionException.html" title="class in java9.util.concurrent"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../java9/util/concurrent/CountedCompleter.html" title="class in java9.util.concurrent"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?java9/util/concurrent/ConcurrentMaps.html" target="_top">Frames</a></li>
<li><a href="ConcurrentMaps.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2017. All rights reserved.</small></p>
</body>
</html>
